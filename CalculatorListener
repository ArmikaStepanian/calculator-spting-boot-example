package ru.stepanian.calc.listeners;

import lombok.RequiredArgsConstructor;

import javax.swing.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

/**
 * Created by 1 on 02.02.2016.
 */
@RequiredArgsConstructor
public class CalculatorListener implements ActionListener {

    private final JTextField field1;
    private final JTextField field2;
    private final JTextField fieldResult;

    public void actionPerformed(ActionEvent e) {

        JButton clickedButton = (JButton) e.getSource();  // Получить источник текущего действия.

        String textFromField1 = field1.getText();    // Получить текущий текст из поля

        double value1 = Double.parseDouble(textFromField1); //Записать это значение (которое типа String) в виде типа double

        String textFromField2 = field2.getText();  // Получить текущий текст из поля

        double value2 = Double.parseDouble(textFromField2);   //Записать это значение (которое типа String) в виде типа double

        if (clickedButton.getActionCommand().equals("+")) {
            fieldResult.setText("" + Operations.add(value1, value2)); //всю математику выносим в отдельный класс
        }
        if (clickedButton.getActionCommand().equals("-")) {
            fieldResult.setText("" + Operations.minus(value1, value2)); //как известно, пустоту прибавляем для конвертации в строку
        }
        if (clickedButton.getActionCommand().equals("*")) {
            fieldResult.setText(String.valueOf(Operations.multiply(value1, value2))); //Или можно так конвертировать в строку
        }
        if (clickedButton.getActionCommand().equals("/")) {
            fieldResult.setText("" + Operations.divide(value1, value2));
        }
        if (clickedButton.getActionCommand().equals("C")) {
            field1.setText("");
            field2.setText("");
            fieldResult.setText("");
        }

    }
}
